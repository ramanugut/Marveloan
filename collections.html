<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collections - Marveloan</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container dashboard-layout">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">Marveloan</div>
            
            <div class="nav-section">
                <div class="nav-title">Dashboard</div>
                <a href="dashboard.html" class="nav-item">üè† Home</a>
                <a href="dashboard.html" class="nav-item">üìä Analytics</a>
            </div>
            
            <div class="nav-section">
                <div class="nav-title">Customer Management</div>
                <a href="customers.html" class="nav-item">üë• Customers</a>
                <a href="employers.html" class="nav-item">üëî Employers</a>
                <a href="#" class="nav-item">üéØ Leads</a>
                <a href="#" class="nav-item">‚úÖ KYC Verification</a>
            </div>
            
            <div class="nav-section">
                <div class="nav-title">Loan Operations</div>
                <a href="loan-application.html" class="nav-item">üìã Applications</a>
                <a href="#" class="nav-item">üîç Underwriting</a>
                <a href="loan-disbursement.html" class="nav-item">üí∞ Disbursement</a>
                <a href="collections.html" class="nav-item collections active">üìû Collections</a>
            </div>
            
            <div class="nav-section">
                <div class="nav-title">Financial Management</div>
                <a href="#" class="nav-item">üìö Cash Book</a>
                <a href="#" class="nav-item">üîÑ Reconciliation</a>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <div>
                    <h1 class="page-title">Collections Management</h1>
                    <p class="page-subtitle">Track and manage loan repayments and overdue accounts</p>
                </div>
                <input type="text" class="search-bar" placeholder="Search customers, loans...">
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon overdue">‚ö†Ô∏è</div>
                    <div class="stat-value">R 2,450,000</div>
                    <div class="stat-label">Overdue Amount</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon pending">‚è≥</div>
                    <div class="stat-value">156</div>
                    <div class="stat-label">Pending Collections</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon recovered">‚úÖ</div>
                    <div class="stat-value">R 890,000</div>
                    <div class="stat-label">Recovered This Month</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon total">üìä</div>
                    <div class="stat-value">89.2%</div>
                    <div class="stat-label">Collection Rate</div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="actions">
                <button class="btn btn-primary">üìû Bulk SMS Reminder</button>
                <button class="btn btn-secondary">üìß Email Campaign</button>
                <button class="btn btn-secondary">üìÑ Generate Report</button>
                <button class="btn btn-secondary">‚öôÔ∏è Collection Settings</button>
            </div>

            <!-- Collections Table -->
            <div class="collections-table">
                <div class="table-header">
                    <h3 class="table-title">Collection Queue</h3>
                    <div class="filter-buttons">
                        <button class="filter-btn active">All</button>
                        <button class="filter-btn">Overdue</button>
                        <button class="filter-btn">Due Today</button>
                        <button class="filter-btn">Contacted</button>
                        <button class="filter-btn">Legal</button>
                    </div>
                </div>
                
                <table>
                    <thead>
                        <tr>
                            <th>Customer</th>
                            <th>Loan ID</th>
                            <th>Due Amount</th>
                            <th>Days Overdue</th>
                            <th>Last Contact</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div>
                                    <strong>John Mokwena</strong><br>
                                    <small class="text-muted">john.mokwena@email.com</small>
                                </div>
                            </td>
                            <td>LN-2024-001</td>
                            <td><strong>R 15,500</strong></td>
                            <td><span class="text-danger">45 days</span></td>
                            <td>2025-06-18</td>
                            <td><span class="status-badge status-overdue">Overdue</span></td>
                            <td>
                                <button class="action-btn action-contact">Contact</button>
                                <button class="action-btn action-schedule">Schedule</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div>
                                    <strong>Sarah Williams</strong><br>
                                    <small class="text-muted">sarah.w@email.com</small>
                                </div>
                            </td>
                            <td>LN-2024-015</td>
                            <td><strong>R 8,750</strong></td>
                            <td><span class="text-warning">12 days</span></td>
                            <td>2025-06-20</td>
                            <td><span class="status-badge status-contacted">Contacted</span></td>
                            <td>
                                <button class="action-btn action-contact">Follow Up</button>
                                <button class="action-btn action-schedule">Schedule</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div>
                                    <strong>Michael Johnson</strong><br>
                                    <small class="text-muted">m.johnson@email.com</small>
                                </div>
                            </td>
                            <td>LN-2024-023</td>
                            <td><strong>R 22,300</strong></td>
                            <td><span class="text-danger">67 days</span></td>
                            <td>2025-06-15</td>
                            <td><span class="status-badge status-overdue">Legal Action</span></td>
                            <td>
                                <button class="action-btn action-contact">Legal</button>
                                <button class="action-btn action-schedule">Update</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div>
                                    <strong>Nomsa Dlamini</strong><br>
                                    <small class="text-muted">nomsa.d@email.com</small>
                                </div>
                            </td>
                            <td>LN-2024-008</td>
                            <td><strong>R 5,200</strong></td>
                            <td><span class="text-warning">3 days</span></td>
                            <td>Today</td>
                            <td><span class="status-badge status-pending">Due Today</span></td>
                            <td>
                                <button class="action-btn action-contact">Remind</button>
                                <button class="action-btn action-schedule">Call</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div>
                                    <strong>Peter Van Der Merwe</strong><br>
                                    <small class="text-muted">peter.vdm@email.com</small>
                                </div>
                            </td>
                            <td>LN-2024-034</td>
                            <td><strong>R 18,900</strong></td>
                            <td><span class="text-danger">28 days</span></td>
                            <td>2025-06-19</td>
                            <td><span class="status-badge status-contacted">Promise to Pay</span></td>
                            <td>
                                <button class="action-btn action-contact">Monitor</button>
                                <button class="action-btn action-schedule">Schedule</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div>
                                    <strong>Thabo Mthembu</strong><br>
                                    <small class="text-muted">thabo.m@email.com</small>
                                </div>
                            </td>
                            <td>LN-2024-019</td>
                            <td><strong>R 12,800</strong></td>
                            <td><span class="text-warning">7 days</span></td>
                            <td>2025-06-21</td>
                            <td><span class="status-badge status-pending">Pending</span></td>
                            <td>
                                <button class="action-btn action-contact">Contact</button>
                                <button class="action-btn action-schedule">Schedule</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Filter functionality
        const filterButtons = document.querySelectorAll('.filter-btn');
        filterButtons.forEach(btn => {
            btn.addEventListener('click', function() {
                filterButtons.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                // Implement actual filtering logic as needed
                console.log('Filtering by:', this.textContent);
            });
        });

        // Action button functionality
        const actionButtons = document.querySelectorAll('.action-btn');
        actionButtons.forEach(btn => {
            btn.addEventListener('click', function() {
                const action = this.textContent;
                const row = this.closest('tr');
                const customerName = row.querySelector('strong').textContent;
                
                alert(`${action} action for ${customerName}`);
                // Implement actual action logic
            });
        });

        // Search functionality
        const searchBar = document.querySelector('.search-bar');
        searchBar.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            const rows = document.querySelectorAll('tbody tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        });

        // Bulk action functionality
        const bulkButtons = document.querySelectorAll('.btn');
        bulkButtons.forEach(btn => {
            btn.addEventListener('click', function() {
                if (this.textContent.includes('SMS')) {
                    alert('Sending bulk SMS reminders to overdue customers...');
                } else if (this.textContent.includes('Email')) {
                    alert('Launching email campaign for collections...');
                } else if (this.textContent.includes('Report')) {
                    alert('Generating collections report...');
                } else if (this.textContent.includes('Settings')) {
                    alert('Opening collection settings...');
                }
            });
        });
    </script>
</body>
</html>
